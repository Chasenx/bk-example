import{c as V,a as h,m as B}from"./options-TVirCqXg.js";import{_ as D,u as N,r as v,a as s,b as i,o as A,c as R,d as t,w as o,e as r,f as b,h as S}from"./index-DAh-7xhF.js";const M={class:"navigation-demo"},q={class:"content-demo"},E={style:{width:"100%",height:"100%"}},I={__name:"backup",setup(K){const k=N(),f=a=>{k.push(a)},m=v({host_data:[]}),u=(a,d)=>{h.defaults.baseURL=B;let n={start:a,limit:d};const p="/backup-records?"+new URLSearchParams(n).toString();h.get(p).then(e=>{m.host_data=e.data.data,g.value=e.data.total}).catch(e=>{console.log(e)})};u(1,10);const g=s(0),c=s(1),l=s(10),C=v({count:g,limit:l,current:c}),y=V.map(a=>({...a})),x=a=>{c.value=a,u(c.value,l.value)},w=a=>{l.value=a,u(c.value,l.value)},_=s(!0),P=s("top-bottom"),L=a=>{_.value=!a},T=a=>{f({index:"/",search:"/search",backup:"/backup"}[a.key])};return(a,d)=>{const n=i("bk-menu-item"),p=i("bk-menu"),e=i("bk-table"),U=i("bk-navigation");return A(),R("div",M,[t(U,{class:"navigation-demo-content","default-open":_.value,"navigation-type":P.value,"side-title":"CC简易查询系统",onToggle:L},{menu:o(()=>[t(p,{collapse:_.value,"active-key":"backup",onClick:T},{default:o(()=>[t(n,{key:"index"},{default:o(()=>[r(" 主机查询 ")]),_:1}),t(n,{key:"search"},{default:o(()=>[r(" 文件查询 ")]),_:1}),t(n,{key:"backup"},{default:o(()=>[r(" 备份记录 ")]),_:1})]),_:1},8,["collapse"])]),default:o(()=>[b("div",q,[b("div",E,[t(e,{columns:S(y),data:m.host_data,pagination:C,"remote-pagination":!0,onPageValueChange:x,onPageLimitChange:w,"show-overflow-tooltip":"",height:"100%"},null,8,["columns","data","pagination"])])])]),_:1},8,["default-open","navigation-type"])])}}},z=D(I,[["__scopeId","data-v-27c1cbdf"]]);export{z as default};
